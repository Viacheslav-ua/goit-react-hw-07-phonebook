(this["webpackJsonpreact-ts-assembly"]=this["webpackJsonpreact-ts-assembly"]||[]).push([[0],{45:function(t,e,n){t.exports={row:"ContactList_row__2SpKF",text:"ContactList_text__2dM24",btn:"ContactList_btn__1Xk4q"}},56:function(t,e,n){t.exports={backdrop:"Modal_backdrop__3FAPo",content:"Modal_content__1VIbZ"}},57:function(t,e,n){t.exports={contactsForm:"ContactForm_contactsForm__1GPkI",input:"ContactForm_input__gm87B",caption:"ContactForm_caption__3a2ub",btn:"ContactForm_btn__2Bpnz"}},59:function(t,e,n){t.exports={container:"App_container__1MQN3",title:"App_title__-GfWs"}},67:function(t,e,n){t.exports={caption:"Filter_caption__2iNPg",input:"Filter_input__2DoVp"}},87:function(t,e,n){},93:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n(25),r=n.n(c),o=n(21),s=(n(87),n(37)),i=n.n(s),u=n(46),d=n(14),l=n(56),b=n.n(l),p=n(1),j=document.querySelector("#modal-root"),m=function(t){var e=t.onClose,n=t.children;Object(a.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}),[]);var r=function(t){"Escape"===t.code&&e()};return Object(c.createPortal)(Object(p.jsx)("div",{className:b.a.backdrop,onClick:function(t){t.currentTarget===t.target&&e()},children:Object(p.jsx)("div",{className:b.a.content,children:n})}),j)},f=n(17),O=n(65),h=n(23),x=Object(O.a)({reducerPath:"phoneBookApi",tagTypes:["Contacts"],baseQuery:Object(h.d)({baseUrl:"https://618ed24b50e24d0017ce147f.mockapi.io/"}),endpoints:function(t){return{getContacts:t.query({query:function(){return"contacts"},providesTags:function(t){return t?[].concat(Object(f.a)(t.map((function(t){return{type:"Contacts",id:t.id}}))),[{type:"Contacts",id:"LIST"}]):[{type:"Contacts",id:"LIST"}]}}),addContacts:t.mutation({query:function(t){return{url:"contacts",method:"POST",body:t}},invalidatesTags:[{type:"Contacts",id:"LIST"}]}),deleteContacts:t.mutation({query:function(t){return{url:"contacts/".concat(t),method:"DELETE"}},invalidatesTags:[{type:"Contacts",id:"LIST"}]})}}}),_=x.useGetContactsQuery,v=x.useAddContactsMutation,C=x.useDeleteContactsMutation,y=n(57),g=n.n(y),w=n(135),T=n(130),k=n(132),N=n(133),F=function(){var t=Object(a.useState)(""),e=Object(d.a)(t,2),n=e[0],c=e[1],r=Object(a.useState)(""),o=Object(d.a)(r,2),s=o[0],l=o[1],b=Object(a.useState)(!1),j=Object(d.a)(b,2),f=j[0],O=j[1],h=v(),x=Object(d.a)(h,2),_=x[0],C=(x[1].isError,function(t){return function(e){new RegExp(t).test(e.currentTarget.value)&&("name"===e.currentTarget.name&&c(e.currentTarget.value),"number"===e.currentTarget.name&&l(e.currentTarget.value))}}),y=function(){var t=Object(u.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),t.next=3,_({name:n,phone:s}).unwrap();case 3:F();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),F=function(){c(""),l("")},L=function(){O((function(t){return!t}))};return Object(p.jsxs)(p.Fragment,{children:[f&&Object(p.jsx)(m,{onClose:L,children:Object(p.jsxs)(k.a,{severity:"warning",onClose:L,children:[Object(p.jsx)(N.a,{children:"Warning"}),n," is already in contacts"]})}),Object(p.jsxs)("form",{className:g.a.contactsForm,onSubmit:y,children:[Object(p.jsx)(T.a,{label:"Name",variant:"standard",id:"component-simple",name:"name",value:n,onChange:C("^$|^[$a-zA-Z\u0430-\u044f\u0410-\u042f -']*$"),title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0}),Object(p.jsx)(T.a,{label:"Phone number",variant:"standard",id:"component-simple",type:"tel",name:"number",value:s,onChange:C("^$|^\\+|^\\d[\\d\\s-.]*$"),title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0}),Object(p.jsx)(w.a,{type:"submit",className:g.a.btn,variant:"contained",children:"Add contact"})]})]})},L=n(45),S=n.n(L),A=function(){var t=_(""),e=t.data,n=void 0===e?[]:e,a=t.isLoading,c=C(),r=Object(d.a)(c,1)[0],o=function(){var t=Object(u.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r(e).unwrap();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return a?Object(p.jsx)("h1",{children:"LOADING..."}):Object(p.jsx)("ul",{className:S.a.list,children:n.map((function(t){var e=t.id,n=t.name,a=t.phone;return Object(p.jsxs)("li",{className:S.a.row,children:[Object(p.jsxs)("p",{className:S.a.text,children:[n,": ",a]}),Object(p.jsx)("button",{className:S.a.btn,onClick:function(){return o(e)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]},e)}))})},E=n(67),P=n.n(E),q=function(){var t=Object(a.useState)(""),e=Object(d.a)(t,2),n=e[0],c=e[1];return Object(p.jsx)("div",{children:Object(p.jsx)(T.a,{label:"Find contacts by name",variant:"standard",id:"component-simple",type:"text",name:"filter",className:P.a.input,value:n,onChange:function(t){c(t.target.value)}})})},I=n(59),M=n.n(I),B=function(){return Object(p.jsxs)("div",{className:M.a.container,children:[Object(p.jsx)("h1",{children:"Phonebook"}),Object(p.jsx)(F,{}),Object(p.jsx)("h2",{className:M.a.title,children:"Contacts"}),Object(p.jsx)(q,{}),Object(p.jsx)(A,{})]})},D=n(4),$=n(7),G={store:Object($.a)({reducer:Object(D.a)({},x.reducerPath,x.reducer),middleware:function(t){return t().concat(x.middleware)},devTools:!1})};r.a.render(Object(p.jsx)(o.a,{store:G.store,children:Object(p.jsx)(B,{})}),document.getElementById("root"))}},[[93,1,2]]]);
//# sourceMappingURL=main.62569d0b.chunk.js.map